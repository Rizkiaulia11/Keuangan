```html <html lang="id"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"> <style> .tab-btn { padding: 0.5rem 1rem; border-radius: 0.375rem; background: #f3f4f6; transition: all 0.3dtk; } .active-tab { background: #2563eb; color: putih; } .transaction-item { transisi: transformasi 0,2d; } .transaction-item:hover { transformasi: translateX(5px); } .notification { posisi: tetap; atas: 20px; kanan: 20px; bantalan: 15px 20px; radius batas: 8px; warna: putih; opasitas: 0; transformasi: translateY(-20px); transisi: semua 0,3d mudah; indeks-z: 1000; bayangan-kotak: 0 4px 12px rgba(0,0,0,0.15); } .notification.show { opasitas: 1; transformasi: translateY(0); } .notification.success { warna-latar-belakang: #10B981; } .notification.kesalahan { warna latar belakang: #EF4444; } </style> </head> <body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen flex flex-col items-center py-8 px-4"> <!-- Notifikasi --> <div id="notification" class="notification"></div> <!-- Kartu utama --> <div class="bg-white w-full max-w-2xl rounded-xl shadow-lg p-6 mb-8"> <h1 class="text-3xl font-bold mb-6 text-center text-indigo-700"> <i class="fas fa-bookkeeping mr-2"></i>Catatan Keuangan </h1> <!-- Saldo --> <div class="mb-8 text-center p-4 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg border border-indigo-200"> <h2 class="text-lg font-medium text-indigo-800">Saldo Saat Ini</h2> <p id="balance" class="text-3xl font-bold text-indigo-700 mt-2">Rp 0</p> </div> <!-- Form input transaksi --> <form id="transactionForm" class="space-y-4 mb-8 p-4 bg-gray-50 rounded-lg border border-gray-200"> <h3 class="text-lg font-semibold text-gray-700 mb-2"> <i class="fas fa-plus-circle mr-2 text-indigo-600"></i>Tambah Transaksi Baru </h3> <input type="date" id="date" class="w-full border rounded-lg px-4 py-3" required> <input type="text" id="description" placeholder="Deskripsi transaksi" class="w-full border rounded-lg px-4 py-3" required> <input type="number" id="amount" placeholder="Jumlah (Rp)" class="w-full border rounded-lg px-4 py-3" required> <select id="type" class="w-full border rounded-lg px-4 py-3" required> <option value="income">Pendapatan</option> <option value="expense">Pengeluaran</option> </select> <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300 flex items-center justify-center font-medium"> <i class="fas fa-save mr-2"></i> Simpan Transaksi </button> </form> <!-- Riwayat transaksi --> <div class="mb-6"> <h2 class="text-xl font-semibold mb-4 text-gray-700 flex items-center"> <i class="fas fa-history mr-2 text-indigo-600"></i>Riwayat Transaksi </h2> <div id="transactionsList" class="space-y-3"></div> </div> <!-- Tombol hapus --> <div class="mt-6"> <button id="clearHistory" class="w-full bg-gradient-to-r from-red-500 to-orange-500 text-white py-3 rounded-lg hover:from-red-600 hover:to-orange-600 flex items-center justify-center font-medium"> <i class="fas fa-trash-alt mr-2"></i> Hapus Semua Riwayat </button> </div> </div> <!-- Tabs laporan --> <div class="bg-white w-full max-w-4xl rounded-xl shadow-lg p-6"> <h2 class="text-xl font-semibold mb-6 text-center text-gray-700"> <i class="fas fa-chart-line mr-2 text-indigo-600"></i>Laporan Keuangan </h2> <div class="flex justify-center space-x-4 mb-6"> <button id="dailyTab" class="tab-btn active-tab"><i class="fas fa-calendar-day mr-2"></i>Harian</button> <button id="weeklyTab" class="tab-btn"><i class="fas fa-calendar-week mr-2"></i>Mingguan</button> <button id="monthlyTab" class="tab-btn"><i class="fas fa-calendar-alt mr-2"></i>Bulanan</button> </div> <div id="reportContent" class="text-center text-gray-500 p-4 bg-gray-50 rounded-lg"> <i class="fas fa-info-circle text-2xl mb-2 text-indigo-400"></i> <p>Pilih tab untuk melihat laporan keuangan</p> </div> </div> <script> const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbzdAlFyOsIFIdlp3apRRx_bqvj0XYu-ZkwYBOblaKr-QtRG2nHBFFV6sxlw4Vq0nwpf4g/exec"; let transactions = []; const notification = document.getElementById('notification'); function showNotification(msg, type='success') { notification.textContent = msg; notification.className = `notification ${type} show`; setTimeout(() => notification.classList.remove('show'), 3000); } async function loadTransactions() { try { const res = await fetch(SCRIPT_URL); transaksi = tunggu res.json(); renderTransactions(); renderReport('harian'); } tangkap (err) { tampilkanPemberitahuan("Tidak berhasil menyimpan data!", "kesalahan"); } } async function simpanTransaksi(t) { coba { tunggu ambil(URL_SCRIPT, { metode: "POST", badan: JSON.stringify(t), tajuk: { "Tipe-Konten": "aplikasi/json" } }); muatTransaksi(); tampilkanPemberitahuan("Transaksi berhasil disimpan!"); } tangkap { tampilkanPemberitahuan("Tidak berhasil menyimpan transaksi!", "kesalahan"); } } async function hapusTransaksi() { coba { tunggu ambil(URL_SCRIPT,{ method: "POST", body: JSON.stringify({ mode: "clear" }), headers: { "Content-Type": "application/json" } }); loadTransactions(); showNotification("Data berhasil dihapus!"); } catch { showNotification("Data tidak dihapus!", "error"); } } function updateBalance() { let income = 0, costs = 0; transactions.forEach(t => { if (t.type === "income") income += t.amount; else costs += t.amount; }); const balance = income - burden; const balanceEl = document.getElementById('balance'); balanceEl.textContent = "Rp " + balance.toLocaleString('id-ID'); balanceEl.className = "text-3xl font-bold mt-2 " + (balance >= 0 ? "text-green-600" : "text-red-600"); } function renderTransactions() { const list = document.getElementById("transactionsList"); list.innerHTML = transactions.length ? "" : '<p class="text-gray-500 text-center py-4">Tidak ada transaksi</p>'; const sort = [...transactions].sort((a,b)=> new Date(b.date)-new Date(a.date)); diurutkan.untukSetiap(t => { const item = document.createElement("div"); item.className = `item-transaksi flex justify-antara-item-pusat p-4 perbatasan bulat-lg ${t.type==='pendapatan'?'bg-hijau-50 perbatasan-hijau-200':'bg-merah-50 perbatasan-merah-200'}`; const tanggal = new Tanggal(t.tanggal).toLocaleDateString('id-ID',{ hari kerja:'pendek', tahun:'numerik', bulan:'pendek', hari:'numerik'}); item.innerHTML = ` <div class="flex item-pusat"> <div class="mr-3 teks-xl ${t.type==='pendapatan'?'teks-hijau-500':'teks-merah-500'}"> <i class="fas ${t.type==='pendapatan'?'fa-arrow-circle-down':'fa-arrow-circle-up'}"></i> </div> <div> <div class="font-medium text-gray-800">${t.description}</div> <div class="text-sm text-gray-500">${date}</div> </div> </div> <div class="text-right"> <div class="font-semibold ${t.type==='pendapatan'?'text-green-600':'text-red-600'}"> ${t.type==='pendapatan'?'+':'-'} Rp ${t.amount.toLocaleString('id-ID')} </div> <div class="text-xs ${t.type==='income'?'text-green-500':'text-red-500'}"> ${t.type==='income'?'Pemasukan':'Pengeluaran'} </div> </div>`; list.appendChild(item); }); updateBalance(); } function renderReport(type) { const groups = {}; transaksi.forEach(t => { const tanggal = new Tanggal(t.tanggal); let kunci=""; jika (jenis==="harian") { kunci = tanggal.toLocaleDateString('id-ID',{ hari kerja:'panjang', tahun:'numerik', bulan:'panjang', hari:'numerik'}); } jika (jenis==="mingguan") { const mulai = new Tanggal(tanggal); mulai.aturTanggal(tanggal.getTanggal()-tanggal.getHari()); kunci = "Minggu " + mulai.toLocaleDateString('id-ID',{ hari:'numerik', bulan:'pendek'}); } jika (!grup[kunci]) grup[kunci]={pendapatan:0,biaya:0}; grup[kunci][t.jenis]+=t.jumlah; }); const content = document.getElementById("reportContent"); if (Object.keys(groups).length===0) { content.innerHTML='<p class="py-4 text-gray-500">Tidak ada data laporan</p>'; return; } let html='<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">'; Object.keys(groups).sort().reverse().forEach(k=>{ const b=groups[k].income-groups[k].expense; html+=` <div class="bg-white p-5 rounded-xl border shadow-sm"> <h3 class="font-semibold text-lg mb-3 text-gray-700">${k}</h3> <p class="text-green-600 flex justify-between"><span>Masukan</span><span>Rp ${groups[k].income.toLocaleString('id-ID')}</span></p> <p class="text-red-600 flex justify-between"><span>Pengeluaran</span><span>Rp ${groups[k].expense.toLocaleString('id-ID')}</span></p> <p class="font-semibold flex justify-between mt-2"><span>Saldo</span><span class="${b>=0?'text-green-600':'text-red-600'}">Rp ${b.toLocaleString('id-ID')}</span></p> </div>`; }); html+='</div>'; content.innerHTML=html; } document.getElementById("transactionForm").addEventListener("submit", e=>{ e.preventDefault(); const t={ date: document.getElementById("date").value, description: document.getElementById("description").value, amount: parseFloat(document.getElementById("amount").value), type: document.getElementById("type").value }; if (!t.date||!t.description||!t.amount||t.amount<=0) { showNotification("Data terisi dengan benar!","error"); return; } saveTransaction(t); e.target.reset(); document.getElementById("date").valueAsDate=new Date(); }); document.getElementById("clearHistory").addEventListener("click",()=>{ const p=prompt("Masukkan sandi untuk menghapus riwayat:"); if (p==="Nmax122333") clearTransactions(); else showNotification("Sandi salah!","error"); }); document.getElementById("dailyTab").addEventListener("click",()=>{switchTab("daily");}); document.getElementById("weeklyTab").addEventListener("click",()=>{switchTab("weekly");}); document.getElementById("monthlyTab").addEventListener("klik",()=>{switchTab("bulanan");}); fungsi switchTab(tipe){ ["dailyTab","weeklyTab","monthlyTab"].forEach(id=>document.getElementById(id).classList.remove("active-tab")); document.getElementById(type+"Tab").classList.add("tab-aktif"); renderLaporan(tipe); } memuatTransaksi(); document.getElementById("tanggal").valueAsDate=Tanggal Baru(); </script> </body> </html> ``` ---
